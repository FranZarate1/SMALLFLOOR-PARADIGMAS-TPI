| tablero ventana filas columnas celda fila anchoCelda altoCelda totalAncho totalAlto |

ventana := SystemWindow new.
ventana setLabel: 'Tablero 4x4'.
ventana extent: 400@400.  "Tamaño inicial de la ventana."

filas := 8.  "Número de filas"
columnas := 8.  "Número de columnas"

"Calcular el tamaño de las celdas según el tamaño de la ventana"
totalAncho := ventana extent x.  "Ancho total de la ventana"
totalAlto := ventana extent y.  "Alto total de la ventana"
anchoCelda := totalAncho // columnas.  "Ancho de cada celda"
altoCelda := totalAlto // filas.  "Alto de cada celda"

"Crear el contenedor para las filas"
tablero := Morph new.
tablero layoutPolicy: TableLayout new.  "Usar TableLayout para organizar las filas."
tablero listDirection: #topToBottom.  "Organizar de arriba hacia abajo."

tablero hResizing: #spaceFill; vResizing: #spaceFill.  "Permitir que se ajuste al espacio disponible."

1 to: filas do: [ :i |
    "Crear un contenedor para la fila"
    fila := Morph new.
    fila layoutPolicy: TableLayout new.  "Usar TableLayout para organizar las celdas."
    fila listDirection: #leftToRight.  "Organizar de izquierda a derecha."
    
    "Ajustar el tamaño de la fila para que ocupe todo el ancho"
    fila extent: totalAncho @ altoCelda.  "Cada fila tendrá un alto dinámico según la ventana."

    1 to: columnas do: [ :j |
        celda := Morph new.
        celda extent: anchoCelda @ altoCelda.  "Cada celda tendrá un tamaño dinámico."
        
        "Agregar un borde negro a cada celda para que sea visible"
        celda borderWidth: 2.
        celda borderColor: Color red.
        		
        "Agregar la celda a la fila"
		  celda color:Color yellow.	
        fila addMorphBack: celda.
    ].

    "Agregar la fila al tablero"
    tablero addMorphBack: fila.
].

"Agregar el tablero dentro de la ventana"
ventana addMorph: tablero.
ventana openInWorld.
